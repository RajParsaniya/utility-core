<h3>(15) Stream.peek()</h3>

<p>
	The <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html" target="_blank">Stream</a> interface provides a
	<strong>peek()</strong> method that accepts a
	<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/Consumer.html" target="_blank">Consumer</a> functional interface,
	which performs an action on each element as it is consumed from the stream, and returns a stream consisting of the same elements.
</p>

<div class="accordion">
	<div class="accordion-header">
		<span>Checked exceptions can be handled smoothly within the <strong>peek()</strong> method without causing compile-time errors.</span>
	</div>
	<div class="accordion-content">
		<ul class="accordion-content-ul">
			<li class="accordion-content-li">
				<span class="accordion-content-span">
					To achieve this, You can instantiate a class implementing the
					<a id="stream-exception-handler" target="_blank">IStreamExceptionHandler</a> interface to handle exceptions. Alternatively, You can use the
					<a id="stream-utils" target="_blank">StreamUtils</a> method to achieve the same functionality without explicitly creating an instance of the
					implementing class.
				</span>
			</li>
			<li class="accordion-content-li">
				<span class="accordion-content-span">
					The <strong>setCatchable()</strong> method allows you to specify which exceptions should be caught and handled internally, ensuring that the
					stream flow remains uninterrupted. Additionally, the <strong>setThrowable()</strong> method lets you define which exceptions should be
					rethrown—optionally wrapping them with custom messages or exception types for more controlled error propagation.
				</span>
			</li>
			<li class="accordion-content-li">
				<span class="accordion-content-span">
					The following code demonstrates how to apply the <strong>peek()</strong> method to a stream of file contents, ensuring that the stream
					continues processing even in the presence of checked exception during the initial <strong>map()</strong> operation. For each file content,
					the <strong>peek()</strong> operation performs a side-effect (printing the content to the console) without modifying the elements of the
					stream. Finally, it joins all the file contents into a single string.
				</span>
			</li>
		</ul>
		<div id="stream-exception-handler-peek" class="gist-container"></div>
	</div>
</div>

<div class="accordion">
	<div class="accordion-header">
		<span>Element indices can be accessed and managed within the <strong>peek()</strong> method during stream processing.</span>
	</div>
	<div class="accordion-content">
		<ul class="accordion-content-ul">
			<li class="accordion-content-li">
				<span class="accordion-content-span">
					To achieve this, You can instantiate a class implementing the <a id="stream-index-handler" target="_blank">IStreamIndexHandler</a> interface
					to manage indices explicitly. Alternatively, You can use the <a id="stream-utils" target="_blank">StreamUtils</a> method to achieve the same
					functionality without explicitly creating an instance of the implementing class.
				</span>
			</li>
			<li class="accordion-content-li">
				<span class="accordion-content-span">
					The <strong>setInitialIndex()</strong> method allows you to specify a custom starting index for stream element processing. By setting the
					initial index explicitly, you maintain full control over index values—ensuring consistency across stream operations.
				</span>
			</li>
			<li class="accordion-content-li">
				<span class="accordion-content-span">
					The following code demonstrates how to apply the <strong>peek()</strong> method to a stream of items, ensuring that the stream continues
					processing even in the presence of index-based operations. The <strong>peek()</strong> operation performs a side-effect (printing the
					details of each item along with its index) without modifying the elements of the stream. This allows for observing the state of the stream
					at specific points, while still continuing the flow of elements. Finally, the stream processes all the items and collects them into a final
					list.
				</span>
			</li>
		</ul>
		<div id="stream-index-handler-peek" class="gist-container"></div>
	</div>
</div>

<div class="accordion">
	<div class="accordion-header">
		<span>Both of the above functionalities can be achieved within the <strong>peek()</strong> method.</span>
	</div>
	<div class="accordion-content">
		<ul class="accordion-content-ul">
			<li class="accordion-content-li">
				<span class="accordion-content-span">
					To achieve this, you can instantiate a class implementing the <a id="stream-handler" target="_blank">IStreamHandler</a> interface to handle
					exceptions and manage element indices during stream operations. Alternatively, you can use the
					<a id="stream-utils" target="_blank">StreamUtils</a> utility methods to obtain the same functionality without explicitly creating an
					instance of the implementing class.
				</span>
			</li>
			<li class="accordion-content-li">
				<span class="accordion-content-span">
					The <strong>setCatchable()</strong> method identifies exceptions that should be handled internally, ensuring that stream processing
					continues without disruption. Meanwhile, the <strong>setThrowable()</strong> method identifies exceptions that should be rethrown, with the
					option to wrap them in custom messages or exception types for controlled error handling. Additionally, the
					<strong>setInitialIndex()</strong> method allows you to set a custom initial index, ensuring accurate and consistent index tracking
					throughout the stream's execution.
				</span>
			</li>
		</ul>
		<div id="stream-handler-peek" class="gist-container"></div>
	</div>
</div>
